<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Chapter 3 Activity 2 | Portfolio Stat 764</title>

    <meta name="author" content="Gabriel Hintz" />
  
   <meta name="description" content="Portfolio STAT764 Spring 2024" />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="Chapter 3 Activity 2 | Portfolio Stat 764" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Portfolio STAT764 Spring 2024" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Activity 2 | Portfolio Stat 764" />
  
  <meta name="twitter:description" content="Portfolio STAT764 Spring 2024" />
  
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.7.0/transition.js"></script>
    <script src="libs/bs3compat-0.7.0/tabs.js"></script>
    <script src="libs/bs3compat-0.7.0/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
    <link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-1.3.1/leaflet.js"></script>
    <link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
    <script src="libs/proj4-2.6.2/proj4.min.js"></script>
    <script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding-2.2.1/leaflet.js"></script>
    <script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
    <script src="libs/leaflet-providers-plugin-2.2.1/leaflet-providers-plugin.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  <style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
      <link rel="stylesheet" href="style.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Portfolio Stat 764</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="activity-2" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Activity 2</h1>
<div id="chose-an-area-on-or-close-to-campus-where-it-is-easy-for-you-to-understand-how-the-elevation-changes.-for-example-i-chose-the-parking-lot-outside-of-dickens-hall.-using-a-smartphone-record-the-elevation-at-several-locations-points-within-the-area-you-chose.-i-recommend-using-the-app-strava-but-you-can-use-whatever-you-want." class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Chose an area on or close to campus where it is easy for you to understand how the elevation changes. For example, I chose the parking lot outside of Dickens Hall. Using a smartphone record the elevation at several locations (points) within the area you chose. I recommend using the app Strava, but you can use whatever you want.</h2>
<p><em>I decided to use a harvest map retrieved from a combine from my dad’s farm. I used to operate the combine and I know the field very well. So I believe it will meet the requirements. Also, all the required information is available, such as coordinates, elevation and time.</em></p>
</div>
<div id="obtain-a-.gpx-or-.csv-file-for-your-elevation-data.-at-minimum-the-file-should-contain-the-location-and-time-of-the-elevation-measurements." class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Obtain a .gpx or .csv file for your elevation data. At minimum the file should contain the location and time of the elevation measurements.</h2>
<p><strong>Upload data</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="activity-2.html#cb10-1" tabindex="-1"></a><span class="co"># Points</span></span>
<span id="cb10-2"><a href="activity-2.html#cb10-2" tabindex="-1"></a>points <span class="ot">&lt;-</span>  <span class="fu">st_read</span>(<span class="st">&#39;https://www.dropbox.com/scl/fi/5km5t8yzjqh9fltq5wz2f/soybean23map.geojson?rlkey=7k2ppf8hl9v4oq4nxvx6n2ket&amp;st=xhmxfx42&amp;dl=1&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="activity-2.html#cb10-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Elevation, geometry, Time) <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="activity-2.html#cb10-4" tabindex="-1"></a>  .[<span class="fu">sample</span>(<span class="fu">nrow</span>(.), <span class="dv">100</span>), ] </span>
<span id="cb10-5"><a href="activity-2.html#cb10-5" tabindex="-1"></a><span class="co">#&gt; Reading layer `OGRGeoJSON&#39; from data source </span></span>
<span id="cb10-6"><a href="activity-2.html#cb10-6" tabindex="-1"></a><span class="co">#&gt;   `https://www.dropbox.com/scl/fi/5km5t8yzjqh9fltq5wz2f/soybean23map.geojson?rlkey=7k2ppf8hl9v4oq4nxvx6n2ket&amp;st=xhmxfx42&amp;dl=1&#39; </span></span>
<span id="cb10-7"><a href="activity-2.html#cb10-7" tabindex="-1"></a><span class="co">#&gt;   using driver `GeoJSON&#39;</span></span>
<span id="cb10-8"><a href="activity-2.html#cb10-8" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 25601 features and 13 fields</span></span>
<span id="cb10-9"><a href="activity-2.html#cb10-9" tabindex="-1"></a><span class="co">#&gt; Geometry type: POINT</span></span>
<span id="cb10-10"><a href="activity-2.html#cb10-10" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb10-11"><a href="activity-2.html#cb10-11" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: 314352.5 ymin: 6696958 xmax: 314835.8 ymax: 6697787</span></span>
<span id="cb10-12"><a href="activity-2.html#cb10-12" tabindex="-1"></a><span class="co">#&gt; Projected CRS: WGS 84 / UTM zone 22S</span></span>
<span id="cb10-13"><a href="activity-2.html#cb10-13" tabindex="-1"></a><span class="co"># There are thousands of points, so for the purpose of this activity only a few will be utilized randomly.</span></span>
<span id="cb10-14"><a href="activity-2.html#cb10-14" tabindex="-1"></a></span>
<span id="cb10-15"><a href="activity-2.html#cb10-15" tabindex="-1"></a><span class="co"># Polygon</span></span>
<span id="cb10-16"><a href="activity-2.html#cb10-16" tabindex="-1"></a>polygon <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&#39;https://www.dropbox.com/scl/fi/bxbwxmgs22yx17j2g8m3y/pol.geojson?rlkey=lx39y99fewf8qgzfh87p0ptmp&amp;st=ngala0hj&amp;dl=1&#39;</span>)</span>
<span id="cb10-17"><a href="activity-2.html#cb10-17" tabindex="-1"></a><span class="co">#&gt; Reading layer `OGRGeoJSON&#39; from data source </span></span>
<span id="cb10-18"><a href="activity-2.html#cb10-18" tabindex="-1"></a><span class="co">#&gt;   `https://www.dropbox.com/scl/fi/bxbwxmgs22yx17j2g8m3y/pol.geojson?rlkey=lx39y99fewf8qgzfh87p0ptmp&amp;st=ngala0hj&amp;dl=1&#39; </span></span>
<span id="cb10-19"><a href="activity-2.html#cb10-19" tabindex="-1"></a><span class="co">#&gt;   using driver `GeoJSON&#39;</span></span>
<span id="cb10-20"><a href="activity-2.html#cb10-20" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 1 feature and 3 fields</span></span>
<span id="cb10-21"><a href="activity-2.html#cb10-21" tabindex="-1"></a><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span id="cb10-22"><a href="activity-2.html#cb10-22" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb10-23"><a href="activity-2.html#cb10-23" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: -5891219 ymin: -3483519 xmax: -5890641 ymax: -3482545</span></span>
<span id="cb10-24"><a href="activity-2.html#cb10-24" tabindex="-1"></a><span class="co">#&gt; Projected CRS: WGS 84 / Pseudo-Mercator</span></span></code></pre></div>
</div>
<div id="plotmap-your-elevation-data.-i-would-recommend-using-r-andor-google-earth." class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Plot/map your elevation data. I would recommend using R and/or Google earth.</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="activity-2.html#cb11-1" tabindex="-1"></a><span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb11-2"><a href="activity-2.html#cb11-2" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> polygon)<span class="sc">+</span></span>
<span id="cb11-3"><a href="activity-2.html#cb11-3" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> points, <span class="fu">aes</span>(<span class="at">fill =</span> Elevation), <span class="at">shape =</span> <span class="dv">21</span>)<span class="sc">+</span></span>
<span id="cb11-4"><a href="activity-2.html#cb11-4" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>()<span class="sc">+</span></span>
<span id="cb11-5"><a href="activity-2.html#cb11-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;Longitude&#39;</span>, <span class="at">y =</span> <span class="st">&#39;Latitude&#39;</span>)<span class="sc">+</span></span>
<span id="cb11-6"><a href="activity-2.html#cb11-6" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb11-7"><a href="activity-2.html#cb11-7" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>))</span></code></pre></div>
<p><img src="03-Activity_2_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="explore-your-elevation-data.-for-example-are-there-any-unique-features-of-your-data-do-your-data-contain-obvious-measurement-error-e.g.-an-elevation-that-cant-possibly-be-true-really-try-to-explore-your-data-as-best-as-possible-using-the-plotsmaps-you-made-in-." class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Explore your elevation data. For example, are there any unique features of your data? Do your data contain obvious measurement error (e.g., an elevation that can’t possibly be true)? Really try to explore your data as best as possible using the plots/maps you made in .</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="activity-2.html#cb12-1" tabindex="-1"></a><span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb12-2"><a href="activity-2.html#cb12-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">data =</span> points, <span class="fu">aes</span>(<span class="at">x =</span> Elevation), </span>
<span id="cb12-3"><a href="activity-2.html#cb12-3" tabindex="-1"></a>                 <span class="at">bins =</span> <span class="dv">25</span>, </span>
<span id="cb12-4"><a href="activity-2.html#cb12-4" tabindex="-1"></a>                 <span class="at">color =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb12-5"><a href="activity-2.html#cb12-5" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">&#39;tomato4&#39;</span>,</span>
<span id="cb12-6"><a href="activity-2.html#cb12-6" tabindex="-1"></a>                 <span class="at">alpha =</span> .<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb12-7"><a href="activity-2.html#cb12-7" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb12-8"><a href="activity-2.html#cb12-8" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="03-Activity_2_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="write-out-the-goals-that-you-wish-to-accomplish-using-your-elevation-data.-for-example-my-goal-was-to-make-a-map-of-the-dickens-hall-parking-lot.-this-involves-using-the-elevation-data-i-collected-to-make-predictions-of-the-elevation-at-any-possible-spatial-locations-within-the-parking-lot.-i-would-also-like-to-make-inference-about-the-location-where-the-elevation-is-lowest-within-the-parking-lot." class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Write out the goals that you wish to accomplish using your elevation data. For example, my goal was to make a map of the Dicken’s Hall parking lot. This involves using the elevation data I collected to make predictions of the elevation at any possible spatial locations within the parking lot. I would also like to make inference about the location where the elevation is lowest within the parking lot.</h2>
<p><em>My goal is to make predictions of the elevation at any location of the field and also make inference about where the elevation is highest.</em></p>
</div>
<div id="write-out-several-statistical-or-machine-learning-models-that-you-think-you-can-use-to-answer-the-questionsgoals-you-wrote-in-prompt-5.-be-as-creative-and-inclusive-here.-for-each-statistical-or-machine-learning-model-make-sure-you-explain-each-component-piece-of-the-model" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Write out several statistical or machine learning models that you think you can use to answer the questions/goals you wrote in prompt #5. Be as creative and inclusive here. For each statistical or machine learning model, make sure you explain each component (piece) of the model</h2>
<p><strong>Model 1 - Random Forest</strong></p>
<p><span class="math inline">\(\hat{y}(\textbf{X}) = \frac{1}{B} \sum_{b=1}^B T_b (\textbf{X})\)</span></p>
<p><span class="math inline">\(B\)</span>: number of trees in the forest.<br />
<span class="math inline">\(T_b(\textbf{X})\)</span>: prediction of the b-th tree of input <span class="math inline">\(X\)</span>.<br />
<span class="math inline">\(\hat{y}(\textbf{X})\)</span>: final prediction of the random forest for input <span class="math inline">\(X\)</span>.</p>
<p><strong>Model 2 - Kriging</strong></p>
<p><em>Data Model</em></p>
<p><span class="math inline">\(Y(s_i) = m(s_i) + \epsilon(s_i)\)</span><br />
<span class="math inline">\(\epsilon(s_i) \sim N(0, \sigma^2)\)</span></p>
<p><em>Process Model</em></p>
<p><span class="math inline">\(\hat{Y}(s_0) \sim m(s_0) + \sum_{i=1}^{n} \lambda_i [Y(s_i) - m(s_i)]\)</span></p>
<p><span class="math inline">\(\hat{Y}(s_0)\)</span> represents the predicted elevation at the new location <span class="math inline">\(s_0\)</span>.<br />
<span class="math inline">\(m(s_0)\)</span> is the estimated mean trend at the new location <span class="math inline">\(s_0\)</span>.<br />
<span class="math inline">\(Y(s_i)\)</span> are the observed elevations at known locations <span class="math inline">\(s_i\)</span>.<br />
<span class="math inline">\({\lambda}_i\)</span> are the weights calculated to minimize the variance of the prediction error, based on the spatial autocorrelation structure.<br />
<span class="math inline">\(m(s_i)\)</span> is the mean trend at the observed locations.<br />
<span class="math inline">\(n\)</span> is the number of observed locations used in the predictions.</p>
</div>
<div id="of-the-models-you-developed-in-prompt-6-find-or-develop-software-to-fit-at-least-two-of-these-models-to-your-elevation-data.-note-that-in-a-perfect-world-you-would-be-able-to-either-find-existing-software-or-develop-new-programs-that-enable-you-to-fit-any-statistical-or-machine-learning-model-you-want.-in-reality-you-may-may-end-up-having-to-make-some-unwanted-changes-to-your-models-in-prompt-6-to-be-able-to-find-existing-software-to-fit-these-models-to-the-data." class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> 7). Of the models you developed in prompt #6, find (or develop) software to fit at least two of these models to your elevation data. Note that in a perfect world, you would be able to either find existing software or develop new programs that enable you to fit any statistical or machine learning model you want. In reality, you may may end up having to make some unwanted changes to your models in prompt #6 to be able to find existing software to fit these models to the data.</h2>
<p><strong>Kriging</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="activity-2.html#cb13-1" tabindex="-1"></a></span>
<span id="cb13-2"><a href="activity-2.html#cb13-2" tabindex="-1"></a><span class="co"># Create random points</span></span>
<span id="cb13-3"><a href="activity-2.html#cb13-3" tabindex="-1"></a>newPoints <span class="ot">&lt;-</span> <span class="fu">st_sample</span>(polygon, <span class="at">size =</span> <span class="dv">10000</span>, <span class="at">type =</span> <span class="st">&quot;random&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="activity-2.html#cb13-4" tabindex="-1"></a>  <span class="fu">as</span>(., <span class="st">&#39;Spatial&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-5"><a href="activity-2.html#cb13-5" tabindex="-1"></a>  <span class="fu">spTransform</span>(., <span class="fu">CRS</span>(<span class="fu">proj4string</span>(points <span class="sc">%&gt;%</span> <span class="fu">as</span>(.,<span class="st">&#39;Spatial&#39;</span>))))</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="activity-2.html#cb14-1" tabindex="-1"></a>points</span>
<span id="cb14-2"><a href="activity-2.html#cb14-2" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 100 features and 2 fields</span></span>
<span id="cb14-3"><a href="activity-2.html#cb14-3" tabindex="-1"></a><span class="co">#&gt; Geometry type: POINT</span></span>
<span id="cb14-4"><a href="activity-2.html#cb14-4" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb14-5"><a href="activity-2.html#cb14-5" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: 314356.1 ymin: 6696981 xmax: 314828.5 ymax: 6697785</span></span>
<span id="cb14-6"><a href="activity-2.html#cb14-6" tabindex="-1"></a><span class="co">#&gt; Projected CRS: WGS 84 / UTM zone 22S</span></span>
<span id="cb14-7"><a href="activity-2.html#cb14-7" tabindex="-1"></a><span class="co">#&gt; First 10 features:</span></span>
<span id="cb14-8"><a href="activity-2.html#cb14-8" tabindex="-1"></a><span class="co">#&gt;       Elevation                Time</span></span>
<span id="cb14-9"><a href="activity-2.html#cb14-9" tabindex="-1"></a><span class="co">#&gt; 18847  46.69362 4/8/2023 7:40:08 PM</span></span>
<span id="cb14-10"><a href="activity-2.html#cb14-10" tabindex="-1"></a><span class="co">#&gt; 18895  48.92382 4/8/2023 7:40:56 PM</span></span>
<span id="cb14-11"><a href="activity-2.html#cb14-11" tabindex="-1"></a><span class="co">#&gt; 25102  61.36804 4/8/2023 9:41:34 PM</span></span>
<span id="cb14-12"><a href="activity-2.html#cb14-12" tabindex="-1"></a><span class="co">#&gt; 2986   66.15939 4/8/2023 2:30:08 PM</span></span>
<span id="cb14-13"><a href="activity-2.html#cb14-13" tabindex="-1"></a><span class="co">#&gt; 1842   50.01868 4/8/2023 2:04:36 PM</span></span>
<span id="cb14-14"><a href="activity-2.html#cb14-14" tabindex="-1"></a><span class="co">#&gt; 3371   50.05362 4/8/2023 2:36:33 PM</span></span>
<span id="cb14-15"><a href="activity-2.html#cb14-15" tabindex="-1"></a><span class="co">#&gt; 11638  71.28713 4/8/2023 5:14:48 PM</span></span>
<span id="cb14-16"><a href="activity-2.html#cb14-16" tabindex="-1"></a><span class="co">#&gt; 4761   60.44254 4/8/2023 3:03:38 PM</span></span>
<span id="cb14-17"><a href="activity-2.html#cb14-17" tabindex="-1"></a><span class="co">#&gt; 6746   58.86041 4/8/2023 3:42:34 PM</span></span>
<span id="cb14-18"><a href="activity-2.html#cb14-18" tabindex="-1"></a><span class="co">#&gt; 16128  43.89501 4/8/2023 6:46:11 PM</span></span>
<span id="cb14-19"><a href="activity-2.html#cb14-19" tabindex="-1"></a><span class="co">#&gt;                       geometry</span></span>
<span id="cb14-20"><a href="activity-2.html#cb14-20" tabindex="-1"></a><span class="co">#&gt; 18847 POINT (314620.2 6697715)</span></span>
<span id="cb14-21"><a href="activity-2.html#cb14-21" tabindex="-1"></a><span class="co">#&gt; 18895 POINT (314630.1 6697657)</span></span>
<span id="cb14-22"><a href="activity-2.html#cb14-22" tabindex="-1"></a><span class="co">#&gt; 25102 POINT (314639.5 6697339)</span></span>
<span id="cb14-23"><a href="activity-2.html#cb14-23" tabindex="-1"></a><span class="co">#&gt; 2986  POINT (314557.5 6697202)</span></span>
<span id="cb14-24"><a href="activity-2.html#cb14-24" tabindex="-1"></a><span class="co">#&gt; 1842  POINT (314484.4 6697654)</span></span>
<span id="cb14-25"><a href="activity-2.html#cb14-25" tabindex="-1"></a><span class="co">#&gt; 3371  POINT (314492.5 6697664)</span></span>
<span id="cb14-26"><a href="activity-2.html#cb14-26" tabindex="-1"></a><span class="co">#&gt; 11638   POINT (314446 6697021)</span></span>
<span id="cb14-27"><a href="activity-2.html#cb14-27" tabindex="-1"></a><span class="co">#&gt; 4761  POINT (314512.1 6697424)</span></span>
<span id="cb14-28"><a href="activity-2.html#cb14-28" tabindex="-1"></a><span class="co">#&gt; 6746    POINT (314489 6697471)</span></span>
<span id="cb14-29"><a href="activity-2.html#cb14-29" tabindex="-1"></a><span class="co">#&gt; 16128 POINT (314655.1 6697785)</span></span>
<span id="cb14-30"><a href="activity-2.html#cb14-30" tabindex="-1"></a></span>
<span id="cb14-31"><a href="activity-2.html#cb14-31" tabindex="-1"></a>krig.df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ele =</span> points<span class="sc">$</span>Elevation,</span>
<span id="cb14-32"><a href="activity-2.html#cb14-32" tabindex="-1"></a>                      <span class="at">lon =</span> <span class="fu">st_coordinates</span>(points<span class="sc">$</span>geometry)[,<span class="dv">1</span>],</span>
<span id="cb14-33"><a href="activity-2.html#cb14-33" tabindex="-1"></a>                      <span class="at">lat =</span> <span class="fu">st_coordinates</span>(points<span class="sc">$</span>geometry)[,<span class="dv">2</span>])</span>
<span id="cb14-34"><a href="activity-2.html#cb14-34" tabindex="-1"></a></span>
<span id="cb14-35"><a href="activity-2.html#cb14-35" tabindex="-1"></a>krig.mod <span class="ot">&lt;-</span> <span class="fu">gam</span>(ele <span class="sc">~</span> <span class="fu">s</span>(lon,lat, <span class="at">bs =</span> <span class="st">&#39;gp&#39;</span>), <span class="at">data =</span> krig.df)</span>
<span id="cb14-36"><a href="activity-2.html#cb14-36" tabindex="-1"></a></span>
<span id="cb14-37"><a href="activity-2.html#cb14-37" tabindex="-1"></a>newpoints.krig <span class="ot">&lt;-</span>  <span class="fu">as.data.frame</span>(newPoints) <span class="sc">%&gt;%</span> </span>
<span id="cb14-38"><a href="activity-2.html#cb14-38" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">&quot;lon&quot;</span> <span class="ot">=</span> <span class="st">&#39;coords.x1&#39;</span>, </span>
<span id="cb14-39"><a href="activity-2.html#cb14-39" tabindex="-1"></a>         <span class="st">&#39;lat&#39;</span> <span class="ot">=</span> <span class="st">&#39;coords.x2&#39;</span>)</span>
<span id="cb14-40"><a href="activity-2.html#cb14-40" tabindex="-1"></a></span>
<span id="cb14-41"><a href="activity-2.html#cb14-41" tabindex="-1"></a>newpoints.krig<span class="sc">$</span>ele <span class="ot">&lt;-</span> <span class="fu">predict</span>(krig.mod, newpoints.krig, <span class="at">type =</span> <span class="st">&#39;response&#39;</span>)</span></code></pre></div>
<p><strong>Random Forest</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="activity-2.html#cb15-1" tabindex="-1"></a>df.rf <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(points)</span>
<span id="cb15-2"><a href="activity-2.html#cb15-2" tabindex="-1"></a>df.rf<span class="sc">$</span>lon <span class="ot">&lt;-</span> <span class="fu">st_coordinates</span>(points)[,<span class="dv">1</span>]</span>
<span id="cb15-3"><a href="activity-2.html#cb15-3" tabindex="-1"></a>df.rf<span class="sc">$</span>lat <span class="ot">&lt;-</span> <span class="fu">st_coordinates</span>(points)[,<span class="dv">2</span>]</span>
<span id="cb15-4"><a href="activity-2.html#cb15-4" tabindex="-1"></a></span>
<span id="cb15-5"><a href="activity-2.html#cb15-5" tabindex="-1"></a>rf.fit <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(Elevation <span class="sc">~</span> lon <span class="sc">+</span> lat, <span class="at">data=</span>df.rf, <span class="at">ntree=</span><span class="dv">500</span>, <span class="at">importance=</span><span class="cn">TRUE</span>)</span>
<span id="cb15-6"><a href="activity-2.html#cb15-6" tabindex="-1"></a></span>
<span id="cb15-7"><a href="activity-2.html#cb15-7" tabindex="-1"></a><span class="fu">plot</span>(rf.fit)</span></code></pre></div>
<p><img src="03-Activity_2_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="activity-2.html#cb16-1" tabindex="-1"></a></span>
<span id="cb16-2"><a href="activity-2.html#cb16-2" tabindex="-1"></a>newPoints.rf <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(newPoints) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="activity-2.html#cb16-3" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">&quot;lon&quot;</span> <span class="ot">=</span> <span class="st">&#39;coords.x1&#39;</span>, </span>
<span id="cb16-4"><a href="activity-2.html#cb16-4" tabindex="-1"></a>         <span class="st">&#39;lat&#39;</span> <span class="ot">=</span> <span class="st">&#39;coords.x2&#39;</span>)</span>
<span id="cb16-5"><a href="activity-2.html#cb16-5" tabindex="-1"></a></span>
<span id="cb16-6"><a href="activity-2.html#cb16-6" tabindex="-1"></a>pred.rf <span class="ot">&lt;-</span> <span class="fu">predict</span>(rf.fit, newPoints.rf) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb16-7"><a href="activity-2.html#cb16-7" tabindex="-1"></a></span>
<span id="cb16-8"><a href="activity-2.html#cb16-8" tabindex="-1"></a>newPoints.rf<span class="sc">$</span>ele <span class="ot">&lt;-</span> pred.rf<span class="sc">$</span>.</span></code></pre></div>
</div>
<div id="related-to-prompt-5-use-both-models-you-fit-to-your-elevation-data-in-prompt-7-to-answer-the-questionsgoals.-for-my-elevation-data-this-would-include-making-a-predictive-heatmap-showing-the-elevation-of-the-dickens-hall-parking-lot-and-then-estimating-the-coordinates-of-the-point-where-elevation-is-at-a-minimum." class="section level2" number="3.8">
<h2><span class="header-section-number">3.8</span> Related to prompt #5, use both models you fit to your elevation data in prompt #7 to answer the questions/goals. For my elevation data, this would include making a predictive heatmap showing the elevation of the Dickens Hall parking lot and then estimating the coordinates of the point where elevation is at a minimum.</h2>
<p><strong>Kriging</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="activity-2.html#cb17-1" tabindex="-1"></a>krig.sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(newpoints.krig, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&#39;lon&#39;</span>,<span class="st">&#39;lat&#39;</span>), <span class="at">crs =</span> <span class="fu">st_crs</span>(points))</span>
<span id="cb17-2"><a href="activity-2.html#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="activity-2.html#cb17-3" tabindex="-1"></a><span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb17-4"><a href="activity-2.html#cb17-4" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> krig.sf, <span class="fu">aes</span>(<span class="at">fill =</span> ele), </span>
<span id="cb17-5"><a href="activity-2.html#cb17-5" tabindex="-1"></a>          <span class="at">shape =</span> <span class="dv">21</span>)<span class="sc">+</span></span>
<span id="cb17-6"><a href="activity-2.html#cb17-6" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> polygon, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">&#39;black&#39;</span>)<span class="sc">+</span></span>
<span id="cb17-7"><a href="activity-2.html#cb17-7" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> krig.sf <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ele <span class="sc">==</span> <span class="fu">max</span>(ele)), <span class="at">fill =</span> <span class="st">&#39;darkred&#39;</span>, <span class="at">shape =</span> <span class="dv">22</span>,</span>
<span id="cb17-8"><a href="activity-2.html#cb17-8" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb17-9"><a href="activity-2.html#cb17-9" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>()<span class="sc">+</span></span>
<span id="cb17-10"><a href="activity-2.html#cb17-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;Longitude&#39;</span>, <span class="at">y =</span> <span class="st">&#39;Latitude&#39;</span>)<span class="sc">+</span></span>
<span id="cb17-11"><a href="activity-2.html#cb17-11" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb17-12"><a href="activity-2.html#cb17-12" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>))</span></code></pre></div>
<p><img src="03-Activity_2_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p><strong>Random Forest</strong></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="activity-2.html#cb18-1" tabindex="-1"></a>rf.sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(newPoints.rf, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&#39;lon&#39;</span>,<span class="st">&#39;lat&#39;</span>), <span class="at">crs =</span> <span class="fu">st_crs</span>(points))</span>
<span id="cb18-2"><a href="activity-2.html#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="activity-2.html#cb18-3" tabindex="-1"></a><span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb18-4"><a href="activity-2.html#cb18-4" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> rf.sf, <span class="fu">aes</span>(<span class="at">fill =</span> ele), </span>
<span id="cb18-5"><a href="activity-2.html#cb18-5" tabindex="-1"></a>          <span class="at">shape =</span> <span class="dv">21</span>)<span class="sc">+</span></span>
<span id="cb18-6"><a href="activity-2.html#cb18-6" tabindex="-1"></a>    <span class="fu">geom_sf</span>(<span class="at">data =</span> polygon, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">&#39;black&#39;</span>)<span class="sc">+</span></span>
<span id="cb18-7"><a href="activity-2.html#cb18-7" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> krig.sf <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ele <span class="sc">==</span> <span class="fu">max</span>(ele)), <span class="at">fill =</span> <span class="st">&#39;darkred&#39;</span>, <span class="at">shape =</span> <span class="dv">22</span>,</span>
<span id="cb18-8"><a href="activity-2.html#cb18-8" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb18-9"><a href="activity-2.html#cb18-9" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>()<span class="sc">+</span></span>
<span id="cb18-10"><a href="activity-2.html#cb18-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;Longitude&#39;</span>, <span class="at">y =</span> <span class="st">&#39;Latitude&#39;</span>)<span class="sc">+</span></span>
<span id="cb18-11"><a href="activity-2.html#cb18-11" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb18-12"><a href="activity-2.html#cb18-12" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>))</span></code></pre></div>
<p><img src="03-Activity_2_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="based-on-the-material-in-chapter-6-of-spatio-temporal-statistics-with-r-and-our-discussion-in-class-on-march-26-compare-check-and-evaluate-the-two-models-from-8." class="section level2" number="3.9">
<h2><span class="header-section-number">3.9</span> Based on the material in Chapter 6 of Spatio-Temporal Statistics with R and our discussion in class on March 26, compare, check and evaluate the two models from #8.</h2>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="activity-2.html#cb19-1" tabindex="-1"></a><span class="co"># Obtain new points at the same area for model testing.</span></span>
<span id="cb19-2"><a href="activity-2.html#cb19-2" tabindex="-1"></a>newpoints.test <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&#39;https://www.dropbox.com/scl/fi/5km5t8yzjqh9fltq5wz2f/soybean23map.geojson?rlkey=7k2ppf8hl9v4oq4nxvx6n2ket&amp;st=xhmxfx42&amp;dl=1&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="activity-2.html#cb19-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Elevation, geometry, Time) <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="activity-2.html#cb19-4" tabindex="-1"></a>  .[<span class="fu">sample</span>(<span class="fu">nrow</span>(.), <span class="dv">100</span>), ]</span>
<span id="cb19-5"><a href="activity-2.html#cb19-5" tabindex="-1"></a><span class="co">#&gt; Reading layer `OGRGeoJSON&#39; from data source </span></span>
<span id="cb19-6"><a href="activity-2.html#cb19-6" tabindex="-1"></a><span class="co">#&gt;   `https://www.dropbox.com/scl/fi/5km5t8yzjqh9fltq5wz2f/soybean23map.geojson?rlkey=7k2ppf8hl9v4oq4nxvx6n2ket&amp;st=xhmxfx42&amp;dl=1&#39; </span></span>
<span id="cb19-7"><a href="activity-2.html#cb19-7" tabindex="-1"></a><span class="co">#&gt;   using driver `GeoJSON&#39;</span></span>
<span id="cb19-8"><a href="activity-2.html#cb19-8" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 25601 features and 13 fields</span></span>
<span id="cb19-9"><a href="activity-2.html#cb19-9" tabindex="-1"></a><span class="co">#&gt; Geometry type: POINT</span></span>
<span id="cb19-10"><a href="activity-2.html#cb19-10" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb19-11"><a href="activity-2.html#cb19-11" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: 314352.5 ymin: 6696958 xmax: 314835.8 ymax: 6697787</span></span>
<span id="cb19-12"><a href="activity-2.html#cb19-12" tabindex="-1"></a><span class="co">#&gt; Projected CRS: WGS 84 / UTM zone 22S</span></span>
<span id="cb19-13"><a href="activity-2.html#cb19-13" tabindex="-1"></a></span>
<span id="cb19-14"><a href="activity-2.html#cb19-14" tabindex="-1"></a><span class="co"># Plot training and testing datasets</span></span>
<span id="cb19-15"><a href="activity-2.html#cb19-15" tabindex="-1"></a><span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb19-16"><a href="activity-2.html#cb19-16" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> polygon)<span class="sc">+</span></span>
<span id="cb19-17"><a href="activity-2.html#cb19-17" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> points, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">fill =</span> <span class="st">&#39;gold&#39;</span>)<span class="sc">+</span></span>
<span id="cb19-18"><a href="activity-2.html#cb19-18" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> newpoints.test, <span class="at">shape =</span> <span class="dv">22</span>, <span class="at">fill =</span> <span class="st">&#39;pink4&#39;</span>)<span class="sc">+</span></span>
<span id="cb19-19"><a href="activity-2.html#cb19-19" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>()<span class="sc">+</span></span>
<span id="cb19-20"><a href="activity-2.html#cb19-20" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;Longitude&#39;</span>, <span class="at">y =</span> <span class="st">&#39;Latitude&#39;</span>)<span class="sc">+</span></span>
<span id="cb19-21"><a href="activity-2.html#cb19-21" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb19-22"><a href="activity-2.html#cb19-22" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">30</span>))</span></code></pre></div>
<p><img src="03-Activity_2_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="activity-2.html#cb20-1" tabindex="-1"></a><span class="co"># Predictions</span></span>
<span id="cb20-2"><a href="activity-2.html#cb20-2" tabindex="-1"></a>test.df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ele =</span> newpoints.test<span class="sc">$</span>Elevation,</span>
<span id="cb20-3"><a href="activity-2.html#cb20-3" tabindex="-1"></a>                      <span class="at">lon =</span> <span class="fu">st_coordinates</span>(newpoints.test<span class="sc">$</span>geometry)[,<span class="dv">1</span>],</span>
<span id="cb20-4"><a href="activity-2.html#cb20-4" tabindex="-1"></a>                      <span class="at">lat =</span> <span class="fu">st_coordinates</span>(newpoints.test<span class="sc">$</span>geometry)[,<span class="dv">2</span>])</span>
<span id="cb20-5"><a href="activity-2.html#cb20-5" tabindex="-1"></a></span>
<span id="cb20-6"><a href="activity-2.html#cb20-6" tabindex="-1"></a>test.df<span class="sc">$</span>pred.krig <span class="ot">&lt;-</span> <span class="fu">predict</span>(krig.mod, <span class="at">newdata =</span> test.df, <span class="at">type =</span> <span class="st">&#39;response&#39;</span>)</span>
<span id="cb20-7"><a href="activity-2.html#cb20-7" tabindex="-1"></a>test.df<span class="sc">$</span>pred.rf <span class="ot">&lt;-</span> <span class="fu">predict</span>(rf.fit, <span class="at">newdata =</span> test.df)</span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="activity-2.html#cb21-1" tabindex="-1"></a>rmse.krig <span class="ot">&lt;-</span> <span class="fu">rmse</span>(test.df<span class="sc">$</span>ele, <span class="fu">as.numeric</span>(test.df<span class="sc">$</span>pred.krig))</span>
<span id="cb21-2"><a href="activity-2.html#cb21-2" tabindex="-1"></a>mae.krig <span class="ot">&lt;-</span> <span class="fu">mae</span>(test.df<span class="sc">$</span>ele, <span class="fu">as.numeric</span>(test.df<span class="sc">$</span>pred.krig))</span>
<span id="cb21-3"><a href="activity-2.html#cb21-3" tabindex="-1"></a></span>
<span id="cb21-4"><a href="activity-2.html#cb21-4" tabindex="-1"></a>rmse.rf <span class="ot">&lt;-</span> <span class="fu">rmse</span>(test.df<span class="sc">$</span>ele, <span class="fu">as.numeric</span>(test.df<span class="sc">$</span>pred.rf))</span>
<span id="cb21-5"><a href="activity-2.html#cb21-5" tabindex="-1"></a>mae.rf <span class="ot">&lt;-</span> <span class="fu">mae</span>(test.df<span class="sc">$</span>ele, <span class="fu">as.numeric</span>(test.df<span class="sc">$</span>pred.rf))</span>
<span id="cb21-6"><a href="activity-2.html#cb21-6" tabindex="-1"></a></span>
<span id="cb21-7"><a href="activity-2.html#cb21-7" tabindex="-1"></a><span class="co">#Kriging metrics</span></span>
<span id="cb21-8"><a href="activity-2.html#cb21-8" tabindex="-1"></a></span>
<span id="cb21-9"><a href="activity-2.html#cb21-9" tabindex="-1"></a>krigingMetrics <span class="ot">&lt;-</span> test.df <span class="sc">%&gt;%</span> </span>
<span id="cb21-10"><a href="activity-2.html#cb21-10" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb21-11"><a href="activity-2.html#cb21-11" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(pred.krig, ele), <span class="at">fill =</span> <span class="st">&#39;purple4&#39;</span>, <span class="at">color =</span> <span class="st">&#39;black&#39;</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb21-12"><a href="activity-2.html#cb21-12" tabindex="-1"></a>             <span class="at">alpha =</span> .<span class="dv">7</span>)<span class="sc">+</span></span>
<span id="cb21-13"><a href="activity-2.html#cb21-13" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb21-14"><a href="activity-2.html#cb21-14" tabindex="-1"></a>  <span class="co">#scale_y_continuous(limits = c(0,90), breaks = seq(0,100, 20))+</span></span>
<span id="cb21-15"><a href="activity-2.html#cb21-15" tabindex="-1"></a>  <span class="co">#scale_x_continuous(limits = c(0,90), breaks = seq(0,100, 20))+</span></span>
<span id="cb21-16"><a href="activity-2.html#cb21-16" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb21-17"><a href="activity-2.html#cb21-17" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;Kriging&#39;</span>, <span class="at">x =</span> <span class="st">&#39;Predicted&#39;</span>, <span class="at">y =</span> <span class="st">&#39;Observed&#39;</span>)<span class="sc">+</span></span>
<span id="cb21-18"><a href="activity-2.html#cb21-18" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">&#39;RMSE: &#39;</span>, <span class="fu">round</span>(rmse.krig,<span class="dv">1</span>)), <span class="at">x =</span> <span class="dv">65</span>, <span class="at">y =</span> <span class="dv">50</span>)<span class="sc">+</span></span>
<span id="cb21-19"><a href="activity-2.html#cb21-19" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">&#39;MAE: &#39;</span>, <span class="fu">round</span>(mae.krig,<span class="dv">1</span>)), <span class="at">x =</span> <span class="dv">65</span>, <span class="at">y =</span> <span class="dv">48</span>)<span class="sc">+</span></span>
<span id="cb21-20"><a href="activity-2.html#cb21-20" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb21-21"><a href="activity-2.html#cb21-21" tabindex="-1"></a>        <span class="at">aspect.ratio =</span> <span class="dv">1</span>,</span>
<span id="cb21-22"><a href="activity-2.html#cb21-22" tabindex="-1"></a>        <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb21-23"><a href="activity-2.html#cb21-23" tabindex="-1"></a>        )</span>
<span id="cb21-24"><a href="activity-2.html#cb21-24" tabindex="-1"></a></span>
<span id="cb21-25"><a href="activity-2.html#cb21-25" tabindex="-1"></a><span class="co">#Rf metrics</span></span>
<span id="cb21-26"><a href="activity-2.html#cb21-26" tabindex="-1"></a></span>
<span id="cb21-27"><a href="activity-2.html#cb21-27" tabindex="-1"></a>rfMetrics <span class="ot">&lt;-</span> test.df <span class="sc">%&gt;%</span> </span>
<span id="cb21-28"><a href="activity-2.html#cb21-28" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb21-29"><a href="activity-2.html#cb21-29" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(pred.rf, ele), <span class="at">fill =</span> <span class="st">&#39;purple4&#39;</span>, <span class="at">color =</span> <span class="st">&#39;black&#39;</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">2</span>,</span>
<span id="cb21-30"><a href="activity-2.html#cb21-30" tabindex="-1"></a>             <span class="at">alpha =</span> .<span class="dv">7</span>)<span class="sc">+</span></span>
<span id="cb21-31"><a href="activity-2.html#cb21-31" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb21-32"><a href="activity-2.html#cb21-32" tabindex="-1"></a>  <span class="co">#scale_y_continuous(limits = c(0,90), breaks = seq(0,100, 20))+</span></span>
<span id="cb21-33"><a href="activity-2.html#cb21-33" tabindex="-1"></a>  <span class="co">#scale_x_continuous(limits = c(0,90), breaks = seq(0,100, 20))+</span></span>
<span id="cb21-34"><a href="activity-2.html#cb21-34" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb21-35"><a href="activity-2.html#cb21-35" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;Random Forest&#39;</span>, <span class="at">x =</span> <span class="st">&#39;Predicted&#39;</span>, <span class="at">y =</span> <span class="st">&#39;Observed&#39;</span>)<span class="sc">+</span></span>
<span id="cb21-36"><a href="activity-2.html#cb21-36" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">&#39;RMSE: &#39;</span>, <span class="fu">round</span>(rmse.rf,<span class="dv">1</span>)), <span class="at">x =</span> <span class="dv">65</span>, <span class="at">y =</span> <span class="dv">50</span>)<span class="sc">+</span></span>
<span id="cb21-37"><a href="activity-2.html#cb21-37" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">&#39;MAE: &#39;</span>, <span class="fu">round</span>(mae.rf,<span class="dv">1</span>)), <span class="at">x =</span> <span class="dv">65</span>, <span class="at">y =</span> <span class="dv">48</span>)<span class="sc">+</span></span>
<span id="cb21-38"><a href="activity-2.html#cb21-38" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb21-39"><a href="activity-2.html#cb21-39" tabindex="-1"></a>        <span class="at">aspect.ratio =</span> <span class="dv">1</span>,</span>
<span id="cb21-40"><a href="activity-2.html#cb21-40" tabindex="-1"></a>        <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb21-41"><a href="activity-2.html#cb21-41" tabindex="-1"></a>        )</span>
<span id="cb21-42"><a href="activity-2.html#cb21-42" tabindex="-1"></a></span>
<span id="cb21-43"><a href="activity-2.html#cb21-43" tabindex="-1"></a><span class="fu">ggarrange</span>(krigingMetrics,rfMetrics)</span></code></pre></div>
<p><img src="03-Activity_2_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>

</div>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Portfolio Stat 764</strong>" was written by Gabriel Hintz. It was last built on 2024-05-09.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
