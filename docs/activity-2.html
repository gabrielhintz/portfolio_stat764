<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 4 Activity 2 | Portfolio Stat 764</title>
<meta name="author" content="Gabriel Hintz">
<meta name="description" content="4.1 Chose an area on or close to campus where it is easy for you to understand how the elevation changes. For example, I chose the parking lot outside of Dickens Hall. Using a smartphone record...">
<meta name="generator" content="bookdown 0.39 with bs4_book()">
<meta property="og:title" content="Chapter 4 Activity 2 | Portfolio Stat 764">
<meta property="og:type" content="book">
<meta property="og:description" content="4.1 Chose an area on or close to campus where it is easy for you to understand how the elevation changes. For example, I chose the parking lot outside of Dickens Hall. Using a smartphone record...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 4 Activity 2 | Portfolio Stat 764">
<meta name="twitter:description" content="4.1 Chose an area on or close to campus where it is easy for you to understand how the elevation changes. For example, I chose the parking lot outside of Dickens Hall. Using a smartphone record...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.7.0/transition.js"></script><script src="libs/bs3compat-0.7.0/tabs.js"></script><script src="libs/bs3compat-0.7.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.2.1/leaflet.js"></script><script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script><script src="libs/leaflet-providers-plugin-2.2.1/leaflet-providers-plugin.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Portfolio Stat 764</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> About</a></li>
<li><a class="" href="journals.html"><span class="header-section-number">2</span> Journals</a></li>
<li><a class="" href="activity-1.html"><span class="header-section-number">3</span> Activity 1</a></li>
<li><a class="active" href="activity-2.html"><span class="header-section-number">4</span> Activity 2</a></li>
<li><a class="" href="activity-3.html"><span class="header-section-number">5</span> Activity 3</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="activity-2" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Activity 2<a class="anchor" aria-label="anchor" href="#activity-2"><i class="fas fa-link"></i></a>
</h1>
<div id="chose-an-area-on-or-close-to-campus-where-it-is-easy-for-you-to-understand-how-the-elevation-changes.-for-example-i-chose-the-parking-lot-outside-of-dickens-hall.-using-a-smartphone-record-the-elevation-at-several-locations-points-within-the-area-you-chose.-i-recommend-using-the-app-strava-but-you-can-use-whatever-you-want." class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Chose an area on or close to campus where it is easy for you to understand how the elevation changes. For example, I chose the parking lot outside of Dickens Hall. Using a smartphone record the elevation at several locations (points) within the area you chose. I recommend using the app Strava, but you can use whatever you want.<a class="anchor" aria-label="anchor" href="#chose-an-area-on-or-close-to-campus-where-it-is-easy-for-you-to-understand-how-the-elevation-changes.-for-example-i-chose-the-parking-lot-outside-of-dickens-hall.-using-a-smartphone-record-the-elevation-at-several-locations-points-within-the-area-you-chose.-i-recommend-using-the-app-strava-but-you-can-use-whatever-you-want."><i class="fas fa-link"></i></a>
</h2>
<p><em>I decided to use a harvest map retrieved from a combine from my dad’s farm. I used to operate the combine and I know the field very well. So I believe it will meet the requirements. Also, all the required information is available, such as coordinates, elevation and time.</em></p>
</div>
<div id="obtain-a-.gpx-or-.csv-file-for-your-elevation-data.-at-minimum-the-file-should-contain-the-location-and-time-of-the-elevation-measurements." class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Obtain a .gpx or .csv file for your elevation data. At minimum the file should contain the location and time of the elevation measurements.<a class="anchor" aria-label="anchor" href="#obtain-a-.gpx-or-.csv-file-for-your-elevation-data.-at-minimum-the-file-should-contain-the-location-and-time-of-the-elevation-measurements."><i class="fas fa-link"></i></a>
</h2>
<p><strong>Upload data</strong></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Points</span></span>
<span><span class="va">points</span> <span class="op">&lt;-</span>  <span class="fu">st_read</span><span class="op">(</span><span class="st">'https://www.dropbox.com/scl/fi/5km5t8yzjqh9fltq5wz2f/soybean23map.geojson?rlkey=7k2ppf8hl9v4oq4nxvx6n2ket&amp;st=xhmxfx42&amp;dl=1'</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Elevation</span>, <span class="va">geometry</span>, <span class="va">Time</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="va">.</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">100</span><span class="op">)</span>, <span class="op">]</span> </span>
<span><span class="co">#&gt; Reading layer `OGRGeoJSON' from data source </span></span>
<span><span class="co">#&gt;   `https://www.dropbox.com/scl/fi/5km5t8yzjqh9fltq5wz2f/soybean23map.geojson?rlkey=7k2ppf8hl9v4oq4nxvx6n2ket&amp;st=xhmxfx42&amp;dl=1' </span></span>
<span><span class="co">#&gt;   using driver `GeoJSON'</span></span>
<span><span class="co">#&gt; Simple feature collection with 25601 features and 13 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 314352.5 ymin: 6696958 xmax: 314835.8 ymax: 6697787</span></span>
<span><span class="co">#&gt; Projected CRS: WGS 84 / UTM zone 22S</span></span>
<span><span class="co"># There are thousands of points, so for the purpose of this activity only a few will be utilized randomly.</span></span>
<span></span>
<span><span class="co"># Polygon</span></span>
<span><span class="va">polygon</span> <span class="op">&lt;-</span> <span class="fu">st_read</span><span class="op">(</span><span class="st">'https://www.dropbox.com/scl/fi/bxbwxmgs22yx17j2g8m3y/pol.geojson?rlkey=lx39y99fewf8qgzfh87p0ptmp&amp;st=ngala0hj&amp;dl=1'</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading layer `OGRGeoJSON' from data source </span></span>
<span><span class="co">#&gt;   `https://www.dropbox.com/scl/fi/bxbwxmgs22yx17j2g8m3y/pol.geojson?rlkey=lx39y99fewf8qgzfh87p0ptmp&amp;st=ngala0hj&amp;dl=1' </span></span>
<span><span class="co">#&gt;   using driver `GeoJSON'</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 3 fields</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -5891219 ymin: -3483519 xmax: -5890641 ymax: -3482545</span></span>
<span><span class="co">#&gt; Projected CRS: WGS 84 / Pseudo-Mercator</span></span></code></pre></div>
</div>
<div id="plotmap-your-elevation-data.-i-would-recommend-using-r-andor-google-earth." class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Plot/map your elevation data. I would recommend using R and/or Google earth.<a class="anchor" aria-label="anchor" href="#plotmap-your-elevation-data.-i-would-recommend-using-r-andor-google-earth."><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">polygon</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">points</span>, <span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">Elevation</span><span class="op">)</span>, shape <span class="op">=</span> <span class="fl">21</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">scale_fill_viridis_c</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Longitude'</span>, y <span class="op">=</span> <span class="st">'Latitude'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-Activity_2_files/figure-html/unnamed-chunk-2-1.png" width="672"></div>
</div>
<div id="explore-your-elevation-data.-for-example-are-there-any-unique-features-of-your-data-do-your-data-contain-obvious-measurement-error-e.g.-an-elevation-that-cant-possibly-be-true-really-try-to-explore-your-data-as-best-as-possible-using-the-plotsmaps-you-made-in-." class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Explore your elevation data. For example, are there any unique features of your data? Do your data contain obvious measurement error (e.g., an elevation that can’t possibly be true)? Really try to explore your data as best as possible using the plots/maps you made in .<a class="anchor" aria-label="anchor" href="#explore-your-elevation-data.-for-example-are-there-any-unique-features-of-your-data-do-your-data-contain-obvious-measurement-error-e.g.-an-elevation-that-cant-possibly-be-true-really-try-to-explore-your-data-as-best-as-possible-using-the-plotsmaps-you-made-in-."><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span>data <span class="op">=</span> <span class="va">points</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Elevation</span><span class="op">)</span>, </span>
<span>                 bins <span class="op">=</span> <span class="fl">25</span>, </span>
<span>                 color <span class="op">=</span> <span class="st">'black'</span>,</span>
<span>                 fill <span class="op">=</span> <span class="st">'tomato4'</span>,</span>
<span>                 alpha <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>panel.grid <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-Activity_2_files/figure-html/unnamed-chunk-3-1.png" width="672"></div>
</div>
<div id="write-out-the-goals-that-you-wish-to-accomplish-using-your-elevation-data.-for-example-my-goal-was-to-make-a-map-of-the-dickens-hall-parking-lot.-this-involves-using-the-elevation-data-i-collected-to-make-predictions-of-the-elevation-at-any-possible-spatial-locations-within-the-parking-lot.-i-would-also-like-to-make-inference-about-the-location-where-the-elevation-is-lowest-within-the-parking-lot." class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> Write out the goals that you wish to accomplish using your elevation data. For example, my goal was to make a map of the Dicken’s Hall parking lot. This involves using the elevation data I collected to make predictions of the elevation at any possible spatial locations within the parking lot. I would also like to make inference about the location where the elevation is lowest within the parking lot.<a class="anchor" aria-label="anchor" href="#write-out-the-goals-that-you-wish-to-accomplish-using-your-elevation-data.-for-example-my-goal-was-to-make-a-map-of-the-dickens-hall-parking-lot.-this-involves-using-the-elevation-data-i-collected-to-make-predictions-of-the-elevation-at-any-possible-spatial-locations-within-the-parking-lot.-i-would-also-like-to-make-inference-about-the-location-where-the-elevation-is-lowest-within-the-parking-lot."><i class="fas fa-link"></i></a>
</h2>
<p><em>My goal is to make predictions of the elevation at any location of the field and also make inference about where the elevation is highest.</em></p>
</div>
<div id="write-out-several-statistical-or-machine-learning-models-that-you-think-you-can-use-to-answer-the-questionsgoals-you-wrote-in-prompt-5.-be-as-creative-and-inclusive-here.-for-each-statistical-or-machine-learning-model-make-sure-you-explain-each-component-piece-of-the-model" class="section level2" number="4.6">
<h2>
<span class="header-section-number">4.6</span> Write out several statistical or machine learning models that you think you can use to answer the questions/goals you wrote in prompt #5. Be as creative and inclusive here. For each statistical or machine learning model, make sure you explain each component (piece) of the model<a class="anchor" aria-label="anchor" href="#write-out-several-statistical-or-machine-learning-models-that-you-think-you-can-use-to-answer-the-questionsgoals-you-wrote-in-prompt-5.-be-as-creative-and-inclusive-here.-for-each-statistical-or-machine-learning-model-make-sure-you-explain-each-component-piece-of-the-model"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Model 1 - Random Forest</strong></p>
<p><span class="math inline">\(\hat{y}(\textbf{X}) = \frac{1}{B} \sum_{b=1}^B T_b (\textbf{X})\)</span></p>
<p><span class="math inline">\(B\)</span>: number of trees in the forest.<br><span class="math inline">\(T_b(\textbf{X})\)</span>: prediction of the b-th tree of input <span class="math inline">\(X\)</span>.<br><span class="math inline">\(\hat{y}(\textbf{X})\)</span>: final prediction of the random forest for input <span class="math inline">\(X\)</span>.</p>
<p><strong>Model 2 - Kriging</strong></p>
<p><em>Data Model</em></p>
<p><span class="math inline">\(Y(s_i) = m(s_i) + \epsilon(s_i)\)</span><br><span class="math inline">\(\epsilon(s_i) \sim N(0, \sigma^2)\)</span></p>
<p><em>Process Model</em></p>
<p><span class="math inline">\(\hat{Y}(s_0) \sim m(s_0) + \sum_{i=1}^{n} \lambda_i [Y(s_i) - m(s_i)]\)</span></p>
<p><span class="math inline">\(\hat{Y}(s_0)\)</span> represents the predicted elevation at the new location <span class="math inline">\(s_0\)</span>.<br><span class="math inline">\(m(s_0)\)</span> is the estimated mean trend at the new location <span class="math inline">\(s_0\)</span>.<br><span class="math inline">\(Y(s_i)\)</span> are the observed elevations at known locations <span class="math inline">\(s_i\)</span>.<br><span class="math inline">\({\lambda}_i\)</span> are the weights calculated to minimize the variance of the prediction error, based on the spatial autocorrelation structure.<br><span class="math inline">\(m(s_i)\)</span> is the mean trend at the observed locations.<br><span class="math inline">\(n\)</span> is the number of observed locations used in the predictions.</p>
</div>
<div id="of-the-models-you-developed-in-prompt-6-find-or-develop-software-to-fit-at-least-two-of-these-models-to-your-elevation-data.-note-that-in-a-perfect-world-you-would-be-able-to-either-find-existing-software-or-develop-new-programs-that-enable-you-to-fit-any-statistical-or-machine-learning-model-you-want.-in-reality-you-may-may-end-up-having-to-make-some-unwanted-changes-to-your-models-in-prompt-6-to-be-able-to-find-existing-software-to-fit-these-models-to-the-data." class="section level2" number="4.7">
<h2>
<span class="header-section-number">4.7</span> 7). Of the models you developed in prompt #6, find (or develop) software to fit at least two of these models to your elevation data. Note that in a perfect world, you would be able to either find existing software or develop new programs that enable you to fit any statistical or machine learning model you want. In reality, you may may end up having to make some unwanted changes to your models in prompt #6 to be able to find existing software to fit these models to the data.<a class="anchor" aria-label="anchor" href="#of-the-models-you-developed-in-prompt-6-find-or-develop-software-to-fit-at-least-two-of-these-models-to-your-elevation-data.-note-that-in-a-perfect-world-you-would-be-able-to-either-find-existing-software-or-develop-new-programs-that-enable-you-to-fit-any-statistical-or-machine-learning-model-you-want.-in-reality-you-may-may-end-up-having-to-make-some-unwanted-changes-to-your-models-in-prompt-6-to-be-able-to-find-existing-software-to-fit-these-models-to-the-data."><i class="fas fa-link"></i></a>
</h2>
<p><strong>Kriging</strong></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Create random points</span></span>
<span><span class="va">newPoints</span> <span class="op">&lt;-</span> <span class="fu">st_sample</span><span class="op">(</span><span class="va">polygon</span>, size <span class="op">=</span> <span class="fl">10000</span>, type <span class="op">=</span> <span class="st">"random"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">as</span><span class="op">(</span><span class="va">.</span>, <span class="st">'Spatial'</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">spTransform</span><span class="op">(</span><span class="va">.</span>, <span class="fu">CRS</span><span class="op">(</span><span class="fu">proj4string</span><span class="op">(</span><span class="va">points</span> <span class="op">%&gt;%</span> <span class="fu">as</span><span class="op">(</span><span class="va">.</span>,<span class="st">'Spatial'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">points</span></span>
<span><span class="co">#&gt; Simple feature collection with 100 features and 2 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 314356.1 ymin: 6696981 xmax: 314828.5 ymax: 6697785</span></span>
<span><span class="co">#&gt; Projected CRS: WGS 84 / UTM zone 22S</span></span>
<span><span class="co">#&gt; First 10 features:</span></span>
<span><span class="co">#&gt;       Elevation                Time</span></span>
<span><span class="co">#&gt; 18847  46.69362 4/8/2023 7:40:08 PM</span></span>
<span><span class="co">#&gt; 18895  48.92382 4/8/2023 7:40:56 PM</span></span>
<span><span class="co">#&gt; 25102  61.36804 4/8/2023 9:41:34 PM</span></span>
<span><span class="co">#&gt; 2986   66.15939 4/8/2023 2:30:08 PM</span></span>
<span><span class="co">#&gt; 1842   50.01868 4/8/2023 2:04:36 PM</span></span>
<span><span class="co">#&gt; 3371   50.05362 4/8/2023 2:36:33 PM</span></span>
<span><span class="co">#&gt; 11638  71.28713 4/8/2023 5:14:48 PM</span></span>
<span><span class="co">#&gt; 4761   60.44254 4/8/2023 3:03:38 PM</span></span>
<span><span class="co">#&gt; 6746   58.86041 4/8/2023 3:42:34 PM</span></span>
<span><span class="co">#&gt; 16128  43.89501 4/8/2023 6:46:11 PM</span></span>
<span><span class="co">#&gt;                       geometry</span></span>
<span><span class="co">#&gt; 18847 POINT (314620.2 6697715)</span></span>
<span><span class="co">#&gt; 18895 POINT (314630.1 6697657)</span></span>
<span><span class="co">#&gt; 25102 POINT (314639.5 6697339)</span></span>
<span><span class="co">#&gt; 2986  POINT (314557.5 6697202)</span></span>
<span><span class="co">#&gt; 1842  POINT (314484.4 6697654)</span></span>
<span><span class="co">#&gt; 3371  POINT (314492.5 6697664)</span></span>
<span><span class="co">#&gt; 11638   POINT (314446 6697021)</span></span>
<span><span class="co">#&gt; 4761  POINT (314512.1 6697424)</span></span>
<span><span class="co">#&gt; 6746    POINT (314489 6697471)</span></span>
<span><span class="co">#&gt; 16128 POINT (314655.1 6697785)</span></span>
<span></span>
<span><span class="va">krig.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>ele <span class="op">=</span> <span class="va">points</span><span class="op">$</span><span class="va">Elevation</span>,</span>
<span>                      lon <span class="op">=</span> <span class="fu">st_coordinates</span><span class="op">(</span><span class="va">points</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>,</span>
<span>                      lat <span class="op">=</span> <span class="fu">st_coordinates</span><span class="op">(</span><span class="va">points</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">krig.mod</span> <span class="op">&lt;-</span> <span class="fu">gam</span><span class="op">(</span><span class="va">ele</span> <span class="op">~</span> <span class="fu">s</span><span class="op">(</span><span class="va">lon</span>,<span class="va">lat</span>, bs <span class="op">=</span> <span class="st">'gp'</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">krig.df</span><span class="op">)</span></span>
<span></span>
<span><span class="va">newpoints.krig</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">newPoints</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">rename</span><span class="op">(</span><span class="st">"lon"</span> <span class="op">=</span> <span class="st">'coords.x1'</span>, </span>
<span>         <span class="st">'lat'</span> <span class="op">=</span> <span class="st">'coords.x2'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">newpoints.krig</span><span class="op">$</span><span class="va">ele</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">krig.mod</span>, <span class="va">newpoints.krig</span>, type <span class="op">=</span> <span class="st">'response'</span><span class="op">)</span></span></code></pre></div>
<p><strong>Random Forest</strong></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df.rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">points</span><span class="op">)</span></span>
<span><span class="va">df.rf</span><span class="op">$</span><span class="va">lon</span> <span class="op">&lt;-</span> <span class="fu">st_coordinates</span><span class="op">(</span><span class="va">points</span><span class="op">)</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">df.rf</span><span class="op">$</span><span class="va">lat</span> <span class="op">&lt;-</span> <span class="fu">st_coordinates</span><span class="op">(</span><span class="va">points</span><span class="op">)</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span></span>
<span></span>
<span><span class="va">rf.fit</span> <span class="op">&lt;-</span> <span class="fu">randomForest</span><span class="op">(</span><span class="va">Elevation</span> <span class="op">~</span> <span class="va">lon</span> <span class="op">+</span> <span class="va">lat</span>, data<span class="op">=</span><span class="va">df.rf</span>, ntree<span class="op">=</span><span class="fl">500</span>, importance<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">rf.fit</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-Activity_2_files/figure-html/unnamed-chunk-6-1.png" width="672"></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">newPoints.rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">newPoints</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">rename</span><span class="op">(</span><span class="st">"lon"</span> <span class="op">=</span> <span class="st">'coords.x1'</span>, </span>
<span>         <span class="st">'lat'</span> <span class="op">=</span> <span class="st">'coords.x2'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pred.rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">rf.fit</span>, <span class="va">newPoints.rf</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">newPoints.rf</span><span class="op">$</span><span class="va">ele</span> <span class="op">&lt;-</span> <span class="va">pred.rf</span><span class="op">$</span><span class="va">.</span></span></code></pre></div>
</div>
<div id="related-to-prompt-5-use-both-models-you-fit-to-your-elevation-data-in-prompt-7-to-answer-the-questionsgoals.-for-my-elevation-data-this-would-include-making-a-predictive-heatmap-showing-the-elevation-of-the-dickens-hall-parking-lot-and-then-estimating-the-coordinates-of-the-point-where-elevation-is-at-a-minimum." class="section level2" number="4.8">
<h2>
<span class="header-section-number">4.8</span> Related to prompt #5, use both models you fit to your elevation data in prompt #7 to answer the questions/goals. For my elevation data, this would include making a predictive heatmap showing the elevation of the Dickens Hall parking lot and then estimating the coordinates of the point where elevation is at a minimum.<a class="anchor" aria-label="anchor" href="#related-to-prompt-5-use-both-models-you-fit-to-your-elevation-data-in-prompt-7-to-answer-the-questionsgoals.-for-my-elevation-data-this-would-include-making-a-predictive-heatmap-showing-the-elevation-of-the-dickens-hall-parking-lot-and-then-estimating-the-coordinates-of-the-point-where-elevation-is-at-a-minimum."><i class="fas fa-link"></i></a>
</h2>
<p><strong>Kriging</strong></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">krig.sf</span> <span class="op">&lt;-</span> <span class="fu">st_as_sf</span><span class="op">(</span><span class="va">newpoints.krig</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'lon'</span>,<span class="st">'lat'</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fu">st_crs</span><span class="op">(</span><span class="va">points</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">krig.sf</span>, <span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">ele</span><span class="op">)</span>, </span>
<span>          shape <span class="op">=</span> <span class="fl">21</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">polygon</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">krig.sf</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">ele</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ele</span><span class="op">)</span><span class="op">)</span>, fill <span class="op">=</span> <span class="st">'darkred'</span>, shape <span class="op">=</span> <span class="fl">22</span>,</span>
<span>          size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">scale_fill_viridis_c</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Longitude'</span>, y <span class="op">=</span> <span class="st">'Latitude'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-Activity_2_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
<p><strong>Random Forest</strong></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rf.sf</span> <span class="op">&lt;-</span> <span class="fu">st_as_sf</span><span class="op">(</span><span class="va">newPoints.rf</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'lon'</span>,<span class="st">'lat'</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fu">st_crs</span><span class="op">(</span><span class="va">points</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">rf.sf</span>, <span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">ele</span><span class="op">)</span>, </span>
<span>          shape <span class="op">=</span> <span class="fl">21</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">polygon</span>, fill <span class="op">=</span> <span class="cn">NA</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">krig.sf</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">ele</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ele</span><span class="op">)</span><span class="op">)</span>, fill <span class="op">=</span> <span class="st">'darkred'</span>, shape <span class="op">=</span> <span class="fl">22</span>,</span>
<span>          size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">scale_fill_viridis_c</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Longitude'</span>, y <span class="op">=</span> <span class="st">'Latitude'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-Activity_2_files/figure-html/unnamed-chunk-8-1.png" width="672"></div>
</div>
<div id="based-on-the-material-in-chapter-6-of-spatio-temporal-statistics-with-r-and-our-discussion-in-class-on-march-26-compare-check-and-evaluate-the-two-models-from-8." class="section level2" number="4.9">
<h2>
<span class="header-section-number">4.9</span> Based on the material in Chapter 6 of Spatio-Temporal Statistics with R and our discussion in class on March 26, compare, check and evaluate the two models from #8.<a class="anchor" aria-label="anchor" href="#based-on-the-material-in-chapter-6-of-spatio-temporal-statistics-with-r-and-our-discussion-in-class-on-march-26-compare-check-and-evaluate-the-two-models-from-8."><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Obtain new points at the same area for model testing.</span></span>
<span><span class="va">newpoints.test</span> <span class="op">&lt;-</span> <span class="fu">st_read</span><span class="op">(</span><span class="st">'https://www.dropbox.com/scl/fi/5km5t8yzjqh9fltq5wz2f/soybean23map.geojson?rlkey=7k2ppf8hl9v4oq4nxvx6n2ket&amp;st=xhmxfx42&amp;dl=1'</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Elevation</span>, <span class="va">geometry</span>, <span class="va">Time</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="va">.</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">100</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; Reading layer `OGRGeoJSON' from data source </span></span>
<span><span class="co">#&gt;   `https://www.dropbox.com/scl/fi/5km5t8yzjqh9fltq5wz2f/soybean23map.geojson?rlkey=7k2ppf8hl9v4oq4nxvx6n2ket&amp;st=xhmxfx42&amp;dl=1' </span></span>
<span><span class="co">#&gt;   using driver `GeoJSON'</span></span>
<span><span class="co">#&gt; Simple feature collection with 25601 features and 13 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 314352.5 ymin: 6696958 xmax: 314835.8 ymax: 6697787</span></span>
<span><span class="co">#&gt; Projected CRS: WGS 84 / UTM zone 22S</span></span>
<span></span>
<span><span class="co"># Plot training and testing datasets</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">polygon</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">points</span>, shape <span class="op">=</span> <span class="fl">21</span>, fill <span class="op">=</span> <span class="st">'gold'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">newpoints.test</span>, shape <span class="op">=</span> <span class="fl">22</span>, fill <span class="op">=</span> <span class="st">'pink4'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">scale_fill_viridis_c</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Longitude'</span>, y <span class="op">=</span> <span class="st">'Latitude'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-Activity_2_files/figure-html/unnamed-chunk-9-1.png" width="672"></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Predictions</span></span>
<span><span class="va">test.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>ele <span class="op">=</span> <span class="va">newpoints.test</span><span class="op">$</span><span class="va">Elevation</span>,</span>
<span>                      lon <span class="op">=</span> <span class="fu">st_coordinates</span><span class="op">(</span><span class="va">newpoints.test</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>,</span>
<span>                      lat <span class="op">=</span> <span class="fu">st_coordinates</span><span class="op">(</span><span class="va">newpoints.test</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">test.df</span><span class="op">$</span><span class="va">pred.krig</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">krig.mod</span>, newdata <span class="op">=</span> <span class="va">test.df</span>, type <span class="op">=</span> <span class="st">'response'</span><span class="op">)</span></span>
<span><span class="va">test.df</span><span class="op">$</span><span class="va">pred.rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">rf.fit</span>, newdata <span class="op">=</span> <span class="va">test.df</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rmse.krig</span> <span class="op">&lt;-</span> <span class="fu">rmse</span><span class="op">(</span><span class="va">test.df</span><span class="op">$</span><span class="va">ele</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">test.df</span><span class="op">$</span><span class="va">pred.krig</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mae.krig</span> <span class="op">&lt;-</span> <span class="fu">mae</span><span class="op">(</span><span class="va">test.df</span><span class="op">$</span><span class="va">ele</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">test.df</span><span class="op">$</span><span class="va">pred.krig</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rmse.rf</span> <span class="op">&lt;-</span> <span class="fu">rmse</span><span class="op">(</span><span class="va">test.df</span><span class="op">$</span><span class="va">ele</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">test.df</span><span class="op">$</span><span class="va">pred.rf</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mae.rf</span> <span class="op">&lt;-</span> <span class="fu">mae</span><span class="op">(</span><span class="va">test.df</span><span class="op">$</span><span class="va">ele</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">test.df</span><span class="op">$</span><span class="va">pred.rf</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Kriging metrics</span></span>
<span></span>
<span><span class="va">krigingMetrics</span> <span class="op">&lt;-</span> <span class="va">test.df</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">pred.krig</span>, <span class="va">ele</span><span class="op">)</span>, fill <span class="op">=</span> <span class="st">'purple4'</span>, color <span class="op">=</span> <span class="st">'black'</span>, shape <span class="op">=</span> <span class="fl">21</span>, size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>             alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_abline</span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="co">#scale_y_continuous(limits = c(0,90), breaks = seq(0,100, 20))+</span></span>
<span>  <span class="co">#scale_x_continuous(limits = c(0,90), breaks = seq(0,100, 20))+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Kriging'</span>, x <span class="op">=</span> <span class="st">'Predicted'</span>, y <span class="op">=</span> <span class="st">'Observed'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">annotate</span><span class="op">(</span><span class="st">'text'</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'RMSE: '</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">rmse.krig</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>, x <span class="op">=</span> <span class="fl">65</span>, y <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">annotate</span><span class="op">(</span><span class="st">'text'</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'MAE: '</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">mae.krig</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>, x <span class="op">=</span> <span class="fl">65</span>, y <span class="op">=</span> <span class="fl">48</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>panel.grid <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,</span>
<span>        aspect.ratio <span class="op">=</span> <span class="fl">1</span>,</span>
<span>        text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span></span>
<span><span class="co">#Rf metrics</span></span>
<span></span>
<span><span class="va">rfMetrics</span> <span class="op">&lt;-</span> <span class="va">test.df</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">pred.rf</span>, <span class="va">ele</span><span class="op">)</span>, fill <span class="op">=</span> <span class="st">'purple4'</span>, color <span class="op">=</span> <span class="st">'black'</span>, shape <span class="op">=</span> <span class="fl">21</span>, size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>             alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_abline</span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="co">#scale_y_continuous(limits = c(0,90), breaks = seq(0,100, 20))+</span></span>
<span>  <span class="co">#scale_x_continuous(limits = c(0,90), breaks = seq(0,100, 20))+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Random Forest'</span>, x <span class="op">=</span> <span class="st">'Predicted'</span>, y <span class="op">=</span> <span class="st">'Observed'</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">annotate</span><span class="op">(</span><span class="st">'text'</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'RMSE: '</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">rmse.rf</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>, x <span class="op">=</span> <span class="fl">65</span>, y <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">annotate</span><span class="op">(</span><span class="st">'text'</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'MAE: '</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">mae.rf</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>, x <span class="op">=</span> <span class="fl">65</span>, y <span class="op">=</span> <span class="fl">48</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>panel.grid <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,</span>
<span>        aspect.ratio <span class="op">=</span> <span class="fl">1</span>,</span>
<span>        text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span></span>
<span><span class="fu">ggarrange</span><span class="op">(</span><span class="va">krigingMetrics</span>,<span class="va">rfMetrics</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-Activity_2_files/figure-html/unnamed-chunk-11-1.png" width="672"></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="activity-1.html"><span class="header-section-number">3</span> Activity 1</a></div>
<div class="next"><a href="activity-3.html"><span class="header-section-number">5</span> Activity 3</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#activity-2"><span class="header-section-number">4</span> Activity 2</a></li>
<li><a class="nav-link" href="#chose-an-area-on-or-close-to-campus-where-it-is-easy-for-you-to-understand-how-the-elevation-changes.-for-example-i-chose-the-parking-lot-outside-of-dickens-hall.-using-a-smartphone-record-the-elevation-at-several-locations-points-within-the-area-you-chose.-i-recommend-using-the-app-strava-but-you-can-use-whatever-you-want."><span class="header-section-number">4.1</span> Chose an area on or close to campus where it is easy for you to understand how the elevation changes. For example, I chose the parking lot outside of Dickens Hall. Using a smartphone record the elevation at several locations (points) within the area you chose. I recommend using the app Strava, but you can use whatever you want.</a></li>
<li><a class="nav-link" href="#obtain-a-.gpx-or-.csv-file-for-your-elevation-data.-at-minimum-the-file-should-contain-the-location-and-time-of-the-elevation-measurements."><span class="header-section-number">4.2</span> Obtain a .gpx or .csv file for your elevation data. At minimum the file should contain the location and time of the elevation measurements.</a></li>
<li><a class="nav-link" href="#plotmap-your-elevation-data.-i-would-recommend-using-r-andor-google-earth."><span class="header-section-number">4.3</span> Plot/map your elevation data. I would recommend using R and/or Google earth.</a></li>
<li><a class="nav-link" href="#explore-your-elevation-data.-for-example-are-there-any-unique-features-of-your-data-do-your-data-contain-obvious-measurement-error-e.g.-an-elevation-that-cant-possibly-be-true-really-try-to-explore-your-data-as-best-as-possible-using-the-plotsmaps-you-made-in-."><span class="header-section-number">4.4</span> Explore your elevation data. For example, are there any unique features of your data? Do your data contain obvious measurement error (e.g., an elevation that can’t possibly be true)? Really try to explore your data as best as possible using the plots/maps you made in .</a></li>
<li><a class="nav-link" href="#write-out-the-goals-that-you-wish-to-accomplish-using-your-elevation-data.-for-example-my-goal-was-to-make-a-map-of-the-dickens-hall-parking-lot.-this-involves-using-the-elevation-data-i-collected-to-make-predictions-of-the-elevation-at-any-possible-spatial-locations-within-the-parking-lot.-i-would-also-like-to-make-inference-about-the-location-where-the-elevation-is-lowest-within-the-parking-lot."><span class="header-section-number">4.5</span> Write out the goals that you wish to accomplish using your elevation data. For example, my goal was to make a map of the Dicken’s Hall parking lot. This involves using the elevation data I collected to make predictions of the elevation at any possible spatial locations within the parking lot. I would also like to make inference about the location where the elevation is lowest within the parking lot.</a></li>
<li><a class="nav-link" href="#write-out-several-statistical-or-machine-learning-models-that-you-think-you-can-use-to-answer-the-questionsgoals-you-wrote-in-prompt-5.-be-as-creative-and-inclusive-here.-for-each-statistical-or-machine-learning-model-make-sure-you-explain-each-component-piece-of-the-model"><span class="header-section-number">4.6</span> Write out several statistical or machine learning models that you think you can use to answer the questions/goals you wrote in prompt #5. Be as creative and inclusive here. For each statistical or machine learning model, make sure you explain each component (piece) of the model</a></li>
<li><a class="nav-link" href="#of-the-models-you-developed-in-prompt-6-find-or-develop-software-to-fit-at-least-two-of-these-models-to-your-elevation-data.-note-that-in-a-perfect-world-you-would-be-able-to-either-find-existing-software-or-develop-new-programs-that-enable-you-to-fit-any-statistical-or-machine-learning-model-you-want.-in-reality-you-may-may-end-up-having-to-make-some-unwanted-changes-to-your-models-in-prompt-6-to-be-able-to-find-existing-software-to-fit-these-models-to-the-data."><span class="header-section-number">4.7</span> 7). Of the models you developed in prompt #6, find (or develop) software to fit at least two of these models to your elevation data. Note that in a perfect world, you would be able to either find existing software or develop new programs that enable you to fit any statistical or machine learning model you want. In reality, you may may end up having to make some unwanted changes to your models in prompt #6 to be able to find existing software to fit these models to the data.</a></li>
<li><a class="nav-link" href="#related-to-prompt-5-use-both-models-you-fit-to-your-elevation-data-in-prompt-7-to-answer-the-questionsgoals.-for-my-elevation-data-this-would-include-making-a-predictive-heatmap-showing-the-elevation-of-the-dickens-hall-parking-lot-and-then-estimating-the-coordinates-of-the-point-where-elevation-is-at-a-minimum."><span class="header-section-number">4.8</span> Related to prompt #5, use both models you fit to your elevation data in prompt #7 to answer the questions/goals. For my elevation data, this would include making a predictive heatmap showing the elevation of the Dickens Hall parking lot and then estimating the coordinates of the point where elevation is at a minimum.</a></li>
<li><a class="nav-link" href="#based-on-the-material-in-chapter-6-of-spatio-temporal-statistics-with-r-and-our-discussion-in-class-on-march-26-compare-check-and-evaluate-the-two-models-from-8."><span class="header-section-number">4.9</span> Based on the material in Chapter 6 of Spatio-Temporal Statistics with R and our discussion in class on March 26, compare, check and evaluate the two models from #8.</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/03-Activity_2.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/03-Activity_2.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Portfolio Stat 764</strong>" was written by Gabriel Hintz. It was last built on 2024-05-09.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
